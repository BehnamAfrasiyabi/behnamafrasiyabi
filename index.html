<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Behnam Afrasiyabi - Electronic Design Engineer</title>
  <meta name="description" content="Behnam Afrasiyabi - Electronic Design Engineer specializing in PCB design, embedded systems, and industrial automation">
  <meta name="keywords" content="Electronic Design, PCB, Embedded Systems, IoT, Industrial Automation">
  <meta property="og:title" content="Behnam Afrasiyabi - Electronic Design Engineer">
  <meta property="og:description" content="Professional Electronic Design Engineer with expertise in industrial automation and embedded systems">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <style>
    /* Additional inline styles for fullscreen 3D viewer */
    .modal-3d-content.fullscreen {
      width: 100%;
      height: 100vh;
      max-width: none;
      margin: 0;
      padding: 0;
    }
    
    .modal-3d-content.fullscreen #modelContainer {
      height: 100vh;
      border-radius: 0;
      background-color: #1a1a1a;
    }
    
    .modal-3d-content.fullmodel-viewer {
      --progress-bar-color: #10b981;
      --progress-bar-height: 4px;
    }
    
    .modal-3d-content.fullscreen .close {
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      z-index: 2001;
    }

    /* Loading Animation */
    .loading-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
      color: var(--accent);
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(16, 185, 129, 0.3);
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    .loading-text {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--accent);
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Pulse animation for loading dots */
    .loading-dots {
      display: inline-flex;
      margin-left: 5px;
    }

    .loading-dots span {
      animation: pulse 1.5s infinite ease-in-out;
      margin: 0 2px;
    }

    .loading-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }

    .loading-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" aria-label="Main navigation">
    <div class="container">
      <div class="logo" role="heading" aria-level="1">Behnam Afrasiyabi</div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#tools">Tools</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#certifications">Certifications</a></li>
      </ul>
      <button class="hamburger" aria-expanded="false" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-image">
          <img 
            src="images/profile.png" 
            alt="Behnam Afrasiyabi"
            loading="lazy"
            width="320" 
            height="320"
          />
        </div>
        <div class="hero-text">
          <h1>Hello, I'm <span class="highlight">Behnam Afrasiyabi</span></h1>
          <p>
            I have always been interested in the design and development of embedded systems for various applications. During my university education, I built a system for managing home appliances using a cell phone with a smart home approach. After that, I designed a device for test and simulation of In-vehicle sensors, and I have been involved in a project to build a car tester and ECU troubleshooter.
          </p>
          <p>
            After graduation, I started my career working in the field of manufacturing, production, and soldering of industrial boards. Currently, I am a member of the MAPNA Automation and Process Control System or MAPCS. MAPCS is the state of the art FCS/DCS system of MAPNA Electric & Control (MECO) Company. Design and development of Hardware for industrial devices and components such as Remote Terminal Units (RTUs) and various industrial I/O cards are some examples of projects I work on.
          </p>
          <div class="contact-info">
            <div class="info-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              <span>b.afrasiyabi@gmail.com</span>
            </div>
            <div class="info-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
              <span>+989365066966</span>
            </div>
            <div class="info-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
              <a href="https://linkedin.com/in/behnam-afrasiyabi" target="_blank" rel="noopener">linkedin.com/in/behnam-afrasiyabi</a>
            </div>
          </div>
          <a href="#projects" class="btn">View My Projects</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Tools & Software Section -->
  <section id="tools" class="tools">
    <div class="container">
      <h2><span class="highlight">Tools</span> & Software</h2>
      <div class="tools-grid">
        <div class="tool-card">
          <h3>Altium Designer</h3>
          <p>Professional PCB design for industrial RTUs and I/O cards with high-speed signal integrity and EMC compliance.</p>
        </div>
        <div class="tool-card">
          <h3>LTSpice</h3>
          <p>Circuit simulation and analysis for power supply design, signal integrity, and analog front-end validation.</p>
        </div>
        <div class="tool-card">
          <h3>OrCAD</h3>
          <p>Schematic capture and PCB layout for legacy industrial systems and reverse engineering projects.</p>
        </div>
        <div class="tool-card">
          <h3>Solidworks</h3>
          <p>Mechanical enclosure design and 3D modeling for industrial control panels and sensor housings.</p>
        </div>
        <div class="tool-card">
          <h3>AutoCAD Electrical</h3>
          <p>Electrical schematics and control system documentation for industrial automation projects.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="projects">
    <div class="container">
      <h2><span class="highlight">Featured</span> Projects</h2>
      <div class="projects-grid">
        <div class="project-card">
          <div class="project-image">
            <img 
              class="project-image-trigger" 
              src="https://placehold.co/600x400/1a1a1a/FFFFFF?text=T-Sim200V3" 
              alt="T-Sim200V3"
              loading="lazy"
              width="600"
              height="400"
            />
          </div>
          <div class="project-content">
            <h3>T-Sim200V3</h3>
            <p>Design and develop T-Sim200V3</p>
            <div class="tags">
              <span>RTU</span>
              <span>PCB Design</span>
              <span>Industrial</span>
            </div>
            <button class="view-3d-btn" data-model="models/T-Sim200V3.glb">View 3D Model</button>
          </div>
        </div>
        <div class="project-card">
          <div class="project-image">
            <img 
              class="project-image-trigger" 
              src="https://placehold.co/600x400/1a1a1a/FFFFFF?text=IoT+Modules" 
              alt="IoT Modules"
              loading="lazy"
              width="600"
              height="400"
            />
          </div>
          <div class="project-content">
            <h3>IoT Communication Modules</h3>
            <p>Integrated Zigbee, LoRa, and GSM modules into industrial hardware for remote monitoring and data acquisition.</p>
            <div class="tags">
              <span>IoT</span>
              <span>Wireless</span>
              <span>Embedded</span>
            </div>
            <button class="view-3d-btn" data-model="models/iot-modules.glb">View 3D Model</button>
          </div>
        </div>
        <div class="project-card">
          <div class="project-image">
            <img 
              class="project-image-trigger" 
              src="https://placehold.co/600x400/1a1a1a/FFFFFF?text=Sensor+Tester" 
              alt="Sensor Tester"
              loading="lazy"
              width="600"
              height="400"
            />
          </div>
          <div class="project-content">
            <h3>Automotive Sensor Tester</h3>
            <p>Designed a simulation and test platform for in-vehicle sensors to support diagnostics and reverse engineering.</p>
            <div class="tags">
              <span>Automotive</span>
              <span>Testing</span>
              <span>ECU</span>
            </div>
            <button class="view-3d-btn" data-model="models/sensor-tester.glb">View 3D Model</button>
          </div>
        </div>
        <div class="project-card">
          <div class="project-image">
            <img 
              class="project-image-trigger" 
              src="https://placehold.co/600x400/1a1a1a/FFFFFF?text=Smart+Home" 
              alt="Smart Home"
              loading="lazy"
              width="600"
              height="400"
            />
          </div>
          <div class="project-content">
            <h3>Smart Home Control System</h3>
            <p>University project for remote control of home appliances via mobile phone using embedded microcontroller.</p>
            <div class="tags">
              <span>Smart Home</span>
              <span>AVR</span>
              <span>Embedded C</span>
            </div>
            <button class="view-3d-btn" data-model="models/smart-home.glb">View 3D Model</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Certifications Section -->
  <section id="certifications" class="certifications-section">
    <div class="container">
      <h2><span class="highlight">Certifications</span></h2>
      <div class="certifications-wrapper">
        <div class="certifications-grid">
          <div class="cert-card" data-cert="1">
            <div class="cert-image">
              <img 
                src="https://placehold.co/280x380/1a1a1a/FFFFFF?text=Altium+Cert" 
                alt="Altium Designer Certificate"
                loading="lazy"
                width="280"
                height="380"
              >
            </div>
            <div class="cert-content">
              <h3>High-Speed PCB Layout Design</h3>
              <p class="issuer">Tehran Institute of Technology</p>
              <p class="cert-id">ID: 577041</p>
            </div>
          </div>
          <div class="cert-card" data-cert="2">
            <div class="cert-image">
              <img 
                src="https://placehold.co/280x380/1a1a1a/FFFFFF?text=AutoCAD+Cert" 
                alt="AutoCAD Electrical Certificate"
                loading="lazy"
                width="280"
                height="380"
              >
            </div>
            <div class="cert-content">
              <h3>AutoCAD Electrical 2014</h3>
              <p class="issuer">Tehran Institute of Technology</p>
            </div>
          </div>
          <div class="cert-card" data-cert="3">
            <div class="cert-image">
              <img 
                src="https://placehold.co/280x380/1a1a1a/FFFFFF?text=AVR+Cert" 
                alt="AVR Microcontroller Certificate"
                loading="lazy"
                width="280"
                height="380"
              >
            </div>
            <div class="cert-content">
              <h3>AVR Microcontroller Programming</h3>
              <p class="issuer">Tehran Institute of Technology</p>
              <p class="cert-id">ID: 386281</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 3D Viewer Modal -->
  <div id="3dModal" class="modal">
    <div class="modal-3d-content fullscreen">
      <span class="close" aria-label="Close 3D viewer">&times;</span>
      <div id="modelContainer" style="width: 100%; height: 100vh;">
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <div class="loading-text">Loading 3D Model<span class="loading-dots"><span>.</span><span>.</span><span>.</span></span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <div class="modal-content">
      <span class="close" aria-label="Close image viewer">&times;</span>
      <img id="modalImage" src="" alt="Preview">
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Behnam Afrasiyabi. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Navbar scroll effect
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        document.body.classList.add('scrolled');
      } else {
        document.body.classList.remove('scrolled');
      }
    });

    // DOM Ready
    document.addEventListener('DOMContentLoaded', () => {
      // Mobile Menu Toggle
      const hamburger = document.querySelector('.hamburger');
      const navLinks = document.querySelector('.nav-links');

      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          navLinks.classList.toggle('active');
          hamburger.classList.toggle('active');
          hamburger.setAttribute('aria-expanded', hamburger.classList.contains('active'));
        });
      }

      // Close mobile menu when clicking on a link
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          if (navLinks.classList.contains('active')) {
            navLinks.classList.remove('active');
            hamburger.classList.remove('active');
            hamburger.setAttribute('aria-expanded', 'false');
          }
        });
      });

      // Smooth Scrolling
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            const offsetTop = targetElement.offsetTop - 80;
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
          }
        });
      });

      // Image Modal
      const imageModal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const imageCloseBtn = imageModal.querySelector('.close');

      document.querySelectorAll('.project-image-trigger, .cert-image img').forEach(img => {
        img.addEventListener('click', () => {
          modalImg.src = img.src;
          modalImg.alt = img.alt;
          imageModal.style.display = 'block';
          document.body.style.overflow = 'hidden';
        });
      });

      if (imageCloseBtn) {
        imageCloseBtn.onclick = () => {
          imageModal.style.display = 'none';
          document.body.style.overflow = 'auto';
        };
      }

      // 3D Viewer Modal
      const modal3d = document.getElementById('3dModal');
      const close3dBtn = modal3d.querySelector('.close');

      document.querySelectorAll('.view-3d-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const modelPath = btn.getAttribute('data-model');
          open3DViewer(modelPath);
        });
      });

      if (close3dBtn) {
        close3dBtn.onclick = () => {
          modal3d.style.display = 'none';
          document.body.style.overflow = 'auto';
          clearModelViewer();
        };
      }

      // Modal close events
      setupModalEvents();
      
      // Start observing for lazy loading
      const projectsSection = document.querySelector('.projects');
      if (projectsSection) {
        modelObserver.observe(projectsSection);
      }
    });

    // Setup modal close events
    function setupModalEvents() {
      const imageModal = document.getElementById('imageModal');
      const modal3d = document.getElementById('3dModal');

      window.addEventListener('click', (event) => {
        if (event.target === imageModal) {
          imageModal.style.display = 'none';
          document.body.style.overflow = 'auto';
        }
        if (event.target === modal3d) {
          modal3d.style.display = 'none';
          document.body.style.overflow = 'auto';
          clearModelViewer();
        }
      });

      // Close modals with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          imageModal.style.display = 'none';
          modal3d.style.display = 'none';
          document.body.style.overflow = 'auto';
          clearModelViewer();
        }
      });
    }

    // Open 3D Viewer with model-viewer component
    function open3DViewer(modelPath) {
      const modal3d = document.getElementById('3dModal');
      const modelContainer = document.getElementById('modelContainer');
      
      // Show modal
      modal3d.style.display = 'block';
      document.body.style.overflow = 'hidden';
      
      // Create model-viewer element after a short delay to ensure DOM is ready
      setTimeout(() => {
        modelContainer.innerHTML = `
          <model-viewer 
            src="${modelPath}"
            alt="3D Model"
            ar
            environment-image="neutral"
            poster=""
            shadow-intensity="1"
            camera-controls
            touch-action="pan-y"
            auto-rotate
            camera-orbit="45deg 55deg 2.5m"
            style="width: 100%; height: 100%;"
          >
            <div class="progress-bar hide" slot="progress-bar">
              <div class="update-bar"></div>
            </div>
          </model-viewer>
        `;
        
        // Add event listener to hide loading when model is loaded
        const modelViewer = modelContainer.querySelector('model-viewer');
        modelViewer.addEventListener('load', () => {
          // Model is loaded, we could add any post-load actions here if needed
        });
      }, 100);
    }

    // Clear model viewer
    function clearModelViewer() {
      const modelContainer = document.getElementById('modelContainer');
      modelContainer.innerHTML = `
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <div class="loading-text">Loading 3D Model<span class="loading-dots"><span>.</span><span>.</span><span>.</span></span></div>
        </div>
      `;
    }

    // Lazy loading for models
    const modelObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Preload models when projects section is in view
          preloadModels();
          modelObserver.disconnect();
        }
      });
    });

    // Preload models for better performance
    function preloadModels() {
      const models = [
        'models/T-Sim200V3.glb',
        'models/iot-modules.glb',
        'models/sensor-tester.glb',
        'models/smart-home.glb'
      ];
      
      models.forEach(modelPath => {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'fetch';
        link.href = modelPath;
        document.head.appendChild(link);
      });
    }
  </script>
</body>
</html>
